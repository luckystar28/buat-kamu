<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hack -> I Love You Animation</title>
  <link href="https://fonts.googleapis.com/css2?family=Major+Mono+Display&family=Montserrat:wght@300;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#061014;
      --green:#00ff6a;
      --accent:#ff7aa2;
    }
    html,body{height:100%;margin:0;font-family: 'Montserrat', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
    body{background:var(--bg);color:#fff;overflow:hidden}

    /* full-screen container */
    .stage{position:relative;width:100%;height:100vh;display:flex;align-items:center;justify-content:center}

    /* canvas for green code rain */
    #matrixCanvas{position:absolute;inset:0;width:100%;height:100%;z-index:30}

    .hack-overlay{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:40}

    .hack-text{font-family: 'Major Mono Display', monospace;color:var(--green);font-size:clamp(20px,6vw,72px);letter-spacing:6px;text-transform:uppercase;position:relative}
    .hack-text .glitch{position:relative;display:inline-block}
    .glitch::before,.glitch::after{content:attr(data-text);position:absolute;left:0;top:0;opacity:0.8}
    .glitch::before{transform:translate(-2px,-1px);color:#00e28a;mix-blend-mode:screen;clip-path:polygon(0 0,100% 0,100% 60%,0 60%);animation:glitchTop 1s infinite linear}
    .glitch::after{transform:translate(2px,1px);color:#009b5f;mix-blend-mode:screen;clip-path:polygon(0 40%,100% 40%,100% 100%,0 100%);animation:glitchBottom 1.2s infinite linear}
    @keyframes glitchTop{0%{transform:translate(-2px,-1px)}20%{transform:translate(3px,-2px)}40%{transform:translate(-1px,1px)}60%{transform:translate(4px,0)}80%{transform:translate(-3px,2px)}100%{transform:translate(-2px,-1px)}}
    @keyframes glitchBottom{0%{transform:translate(2px,1px)}25%{transform:translate(-3px,2px)}50%{transform:translate(2px,-1px)}75%{transform:translate(-2px,3px)}100%{transform:translate(2px,1px)}}

    .loading-line{height:6px;background:linear-gradient(90deg, rgba(0,255,106,0.12), rgba(0,255,106,0.6), rgba(0,255,106,0.12));width:60%;border-radius:6px;margin-top:24px;overflow:hidden}
    .loading-line .bar{height:100%;width:0%;background:linear-gradient(90deg,#00ff6a,#7ef4b6);animation:barMove 3s forwards}
    @keyframes barMove{0%{width:0}70%{width:100%}100%{width:100%;opacity:0}}

    .dots{margin-top:12px;opacity:0.8;font-size:14px;color:#a1ffc6}

    .main{position:relative;z-index:10;display:flex;align-items:center;justify-content:center;flex-direction:column;opacity:0;transform:scale(0.98);transition:opacity .8s ease, transform .8s ease}
    .main.show{opacity:1;transform:scale(1)}

    .big-love{font-weight:800;font-size:clamp(30px,8vw,110px);text-align:center;margin:0;padding:0}
    .big-love .heart{color:var(--accent);margin-left:10px}

    .rain{position:absolute;inset:0;pointer-events:none;overflow:hidden}
    .word{position:absolute;font-weight:600;opacity:0;will-change:transform,opacity}

    .heart-particle{position:absolute;width:18px;height:16px;transform-origin:center;opacity:0}
    .heart-particle svg{width:100%;height:100%}

    .card{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));padding:24px;border-radius:14px;box-shadow:0 6px 30px rgba(0,0,0,0.6);backdrop-filter: blur(6px);display:inline-block}

    @media (max-width:520px){.hack-text{letter-spacing:2px}}
  </style>
</head>
<body>
  <div class="stage">

    <!-- Matrix-style green code rain canvas -->
    <canvas id="matrixCanvas" aria-hidden="true"></canvas>

    <!-- Hacking overlay -->
    <div class="hack-overlay" id="hackOverlay">
      <div class="card" style="text-align:center">
        <div class="hack-text"><span class="glitch" data-text="HACKING">HACKING</span></div>
        <div class="loading-line"><div class="bar"></div></div>
        <div class="dots">_ initializing... <span id="countdown">10</span></div>
      </div>
    </div>

    <!-- Main love content (hidden initially) -->
    <div class="main" id="mainScreen">
      <h1 class="big-love"><span style="font-size:0.7em;display:block">I</span> <span style="display:inline-block">Love You</span> <span class="heart">❤</span></h1>
      <p style="opacity:0.85;margin-top:12px">kamu spesial. selalu.</p>
    </div>

    <!-- rain of words & hearts -->
    <div class="rain" id="rainArea"></div>
  </div>

  <script>
    // --- Matrix green code rain implementation ---
    const canvas = document.getElementById('matrixCanvas');
    const ctx = canvas.getContext('2d');

    function resizeCanvas(){
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      initColumns();
    }
    window.addEventListener('resize', resizeCanvas);

    // characters to use for the rain (mix of binary, hex, and katakana-like glyphs)
    const letters = '01ABCDEFあいうえおかきくけこさしすせそたちつてとナニヌネノ';
    let fontSize = 16;
    let columns = [];

    function initColumns(){
      fontSize = Math.max(12, Math.floor(Math.min(window.innerWidth, window.innerHeight) / 45));
      const cols = Math.floor(canvas.width / fontSize);
      columns = new Array(cols).fill(0).map(()=>Math.random() * canvas.height);
    }

    function draw(){
      // slightly transparent black background to create trail effect
      ctx.fillStyle = 'rgba(6,16,20,0.15)';
      ctx.fillRect(0,0,canvas.width,canvas.height);

      ctx.font = fontSize + 'px monospace';
      for(let i=0;i<columns.length;i++){
        const x = i * fontSize;
        const y = columns[i] * fontSize / fontSize; // keep numeric
        const char = letters.charAt(Math.floor(Math.random() * letters.length));

        // bright head and dim tail effect
        ctx.fillStyle = 'rgba(0,255,130,1)';
        ctx.fillText(char, x, columns[i]);

        // random reset to top after passing bottom or randomly for flicker
        if(columns[i] > canvas.height + Math.random()*10000){
          columns[i] = 0;
        }
        columns[i] += (Math.random()*4 + 4);
      }
    }

    // start animation
    resizeCanvas();
    let matrixAnim = setInterval(draw, 50);

    // --- Rest of sequence (hack overlay -> reveal love screen) ---
    const HACK_DURATION = 10000;
    const hackOverlay = document.getElementById('hackOverlay');
    const mainScreen = document.getElementById('mainScreen');
    const rainArea = document.getElementById('rainArea');
    const countdown = document.getElementById('countdown');

    let cd = Math.ceil(HACK_DURATION/1000);
    const cdInterval = setInterval(()=>{
      cd--;
      if(cd<=0) { countdown.textContent = '0'; clearInterval(cdInterval); }
      else countdown.textContent = cd;
    }, 1000);

    setTimeout(()=>{
      // fade out hack overlay and stop intense matrix after a moment
      hackOverlay.style.transition = 'opacity .6s ease';
      hackOverlay.style.opacity = 0;
      setTimeout(()=>{ hackOverlay.style.display='none'; }, 700);

      // make matrix calmer by reducing opacity and slowing draw
      clearInterval(matrixAnim);
      canvas.style.transition = 'opacity 1s ease, transform 1s ease';
      canvas.style.opacity = '0.25';

      mainScreen.classList.add('show');

      spawnWords(60);
      spawnHearts(30);

    }, HACK_DURATION);

    // spawn words and hearts (same as before)
    function spawnWords(n){
      const texts = ['love','love','sayang','cinta','love','❤','love','luv','ada kamu','always']
      for(let i=0;i<n;i++){
        const el = document.createElement('div');
        el.className = 'word';
        el.textContent = texts[Math.floor(Math.random()*texts.length)];
        const size = Math.random()*18 + 12;
        el.style.fontSize = size + 'px';
        const left = Math.random()*100;
        el.style.left = left+'%';
        el.style.bottom = (-20 - Math.random()*80)+'px';
        el.style.opacity = 0;
        rainArea.appendChild(el);

        const delay = Math.random()*3;
        const duration = 5 + Math.random()*6;
        el.animate([
          { transform: `translateY(0px) scale(1)`, opacity:0 },
          { transform: `translateY(-${150 + Math.random()*400}px) scale(1.02)`, opacity:1 },
          { transform: `translateY(-${600 + Math.random()*1000}px) scale(.9)`, opacity:0 }
        ],{ duration: duration*1000, delay: delay*1000, easing:'cubic-bezier(.2,.9,.3,1)' });

        setTimeout(()=> el.remove(), (delay+duration)*1000 + 200);
      }
    }

    function spawnHearts(n){
      for(let i=0;i<n;i++){
        const el = document.createElement('div');
        el.className = 'heart-particle';
        const size = 10 + Math.random()*36;
        el.style.width = size + 'px';
        el.style.height = (size*0.9) + 'px';
        const left = Math.random()*100;
        el.style.left = left + '%';
        el.style.bottom = (-30 - Math.random()*120)+'px';
        el.innerHTML = `
          <svg viewBox="0 0 32 29.6" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M23.6 0c-2.9 0-5.4 1.6-6.6 4-1.2-2.4-3.7-4-6.6-4C3.2 0 0 3.2 0 7.1 0 14.1 16 29.6 16 29.6S32 14.1 32 7.1C32 3.2 28.8 0 23.6 0z" fill="var(--accent)"/>
          </svg>`;
        rainArea.appendChild(el);

        const delay = Math.random()*2;
        const duration = 4 + Math.random()*6;
        el.animate([
          { transform: `translateY(0px) rotate(0deg)`, opacity:0 },
          { transform: `translateY(-${200 + Math.random()*500}px) rotate(${Math.random()*90}deg)`, opacity:1 },
          { transform: `translateY(-${700 + Math.random()*900}px) rotate(${Math.random()*360}deg)`, opacity:0 }
        ],{ duration: duration*1000, delay: delay*1000, easing:'cubic-bezier(.25,.8,.25,1)'});

        setTimeout(()=> el.remove(), (delay+duration)*1000 + 300);
      }

      setInterval(()=> spawnWords(6), 2200);
    }

    document.addEventListener('click', ()=>{
      if(hackOverlay.style.display !== 'none'){
        hackOverlay.style.display='none';
        mainScreen.classList.add('show');
        spawnWords(60); spawnHearts(30);
        // soften matrix if skipping
        clearInterval(matrixAnim);
        canvas.style.opacity = '0.25';
      }
    }, { once:true });

  </script>
</body>
</html>
